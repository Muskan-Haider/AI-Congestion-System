<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Traffic Congestion</title>
  <style>
    body { font-family: Roboto; }
    .tab {
      overflow: hidden;
      background-color: #f1f1f1;
    }
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }
    .tab button:hover { background-color: #ddd; }
    .tab button.active { background-color: #ccc; }
    #contentFrame {
      width: 100%;
      height: 90vh;
      border: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h2>Traffic Management System</h2>

<div class="tab">
  <button class="tablinks" onclick="loadPage(event, 'chart')">Incidents Data</button>
  <button class="tablinks" onclick="loadPage(event, 'index')">Map</button>
  <button class="tablinks" onclick="loadPage(event, 'predict')">Predict</button>
</div>

<iframe id="contentFrame" src="index.html"></iframe>

<script>
function loadPage(evt, pageName) {
  const frame = document.getElementById('contentFrame');

  if (pageName === 'chart') {
    frame.src = 'http://localhost:8000/chart.html';
  } else if (pageName === 'predict') {
    frame.src = 'predict.html';
  } else {
    frame.src = 'index.html';
  }

  const tablinks = document.getElementsByClassName("tablinks");
  for (let i = 0; i < tablinks.length; i++) {
    tablinks[i].classList.remove("active");
  }
  evt.currentTarget.classList.add("active");
}

window.onload = function() {
  document.querySelector('.tablinks:nth-child(2)').click(); // Load Map tab
};
</script>

</body>
</html>
